/upload                   -   загрузка файла, сохранение файла, запись в базу данных. Возвращает json: {"status":"ok"} при  успехе или {"message":"сообщение об ошибке","status":"fail"} при ошибке

https://freee/upload.html (post)


передаваемые данные:

upload - input file       -   загружаемый файл, должен содержать информацию об имени, расширении и размере, обязательное поле

description - textarea    -   описание загружаемого файла, может содержать до 256 произвольных символов, не обязательное поле


используемые настройки:

upload_name_length        -   максимальная длина названия, которое даётся загружаемому файлу, число

upload_max_size           -   максимальный размер загружаемого файла, число

upload_local_path         -   локальный путь от контроллера до папки загрузки файлов

valid_extensions          -   возможные расширения загружаемого файла, хэш



/upload/search            -   поиск информации о загруженном файле по id или по имени файла, при наличии и id и имени файла, выполняется поиск по id. Id или имя файла должно быть указано. Возвращает json: {"data":{"информация"}, "status":"ok"} при успехе или {"message":"сообщение об ошибке","status":"fail"} при ошибке

https://freee/upload.search.html (post)


передаваемые данные:

id - text                 -   id загруженного файла, число

filename - text           -   описание загруженного файла, должно содержать 48 букв и цифр, к которым можно добавить расширение



/upload/delete            -   удаление файла, удаление записи о нём из базы данных. Возвращает json: {"status":"ok"} при  успехе или {"message":"сообщение об ошибке","status":"fail"} при ошибке

https://freee/upload.html (post)


передаваемые данные:

id - text                 -   id удаляемого файла, число, обязательное поле

используемые настройки:

upload_local_path         -   локальный путь от контроллера до папки загрузки файлов