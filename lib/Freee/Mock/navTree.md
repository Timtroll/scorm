# NavTree - Навигационное Дерево
[JSON дерева - NavTree.json](NavTree.json)

## Структура данных
```
[{
  "folder": 1,
  "id": 3,
  "keywords": "режим обновления список",
  "label": "Scorm",
  "opened": 1,
  "children": [
    {
      "folder": 0,
      "id": 301,
      "keywords": "режим обновления список доступных редакторов",
      "label": "Лекции",
      "opened": 0,
      "children": [],
      "table": {}
    }, {
      "folder": 0,
      "id": 102,
      "keywords": "",
      "label": "Настройки",
      "opened": 1,
      "children": [],
      "table": {
        "settings": { *** },
        "header": [ *** ],
        "body": [ *** ]
      }
    },
  ]}, {
    "component": "Settings",
    "folder": 1,
    "id": 3,
    "keywords": "",
    "label": "Scorm",
    "opened": 0,
    "children": [
      {
        "component": "",
        "folder": 0,
        "id": 301,
        "keywords": "а",
        "label": "Лекции",
        "opened": 0,
        "children": []
      }
    ]
  }
  ***
]
```
| Ключ | Тип | Описание | Значение по умолчанию |
|---|---|---|---|
| id | Number | ID документа | - |
| folder | Boolean | 1 - Имеет дочерние элеиенты, 0 - нет | `1` |
| keywords | String | Ключевые слова | - |
| label | String | Название | - |
| opened | Boolean | Активный (открытый) элемент дерева. Все родители также должны иметь `"opened": 1` | `0` |
| children | Array | Массив дочерних элементов c аналогичной структурой | `[]` |
| table | Object | Таблица активного элемента смотри - [json](Table.json) и [Описание](Table.md) | `{}` |

## ЗАПРОСЫ

#### Список полей
`*/edit_tab` - список полей для фолдера
* запрос - `{ id: 22 }`
* ответ - `{}`

#### Список фолдеров
`*/get_list` - список фолдеров/настроек по id парента (id 0 - корневые фолдеры, folder 0 - список детей)
* запрос - `{ id: 22 }`
* ответ - `{}`

#### Дерево по id парента
`*/get_tree` - дерево по id парента (id 0 - корневые фолдеры, folder 0 - список детей)
* запрос - `{ id: 22 }`
* ответ - `{}`

#### Добавить / Сохраненить
`*/save_tab` - добавление/сохранение фолдера

* запрос - `{ id: 22 }`
* ответ - `{publish: ok/fail, message:"причина ошибки"}`

#### Удалить
`*/delete_tab` - удаление фолдера
* запрос - `{ id: 22 }`
* ответ - `{publish: ok/fail, message:"причина ошибки"}`
